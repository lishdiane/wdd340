

<% if (title) { %>
<h1><%= title %></h1>
<% } else { res.redirect('/') } %>

<!-- Message -->
<%- messages() %> <% if (errors) { %>
<ul class="notice">
  <% errors.array().forEach(error => { %>
  <li><%= error.msg %></li>
  <% }) %>
</ul>
<% } %>

<form id="inventory-form" action="/inv/update" method="post">
  <label id="classification_id"
    >Classification
    <select name="classification_id" title="Select a classification." required>
      <option value="" selected disabled>Choose a classification</option>
      <%- options %>
    </select>
  </label>
  <label id="inv_make"
    >Make<input
      type="text"
      name="inv_make"
      title="Enter the make of the vehicle."
      placeholder="Min of 3 characters"
      value="<%= locals.inv_make %>"
      pattern=".{3,}"
      required
  /></label>
  <label id="inv_model"
    >Model<input
      type="text"
      name="inv_model"
      title="Enter the model of the vehicle."
      placeholder="Min of 3 characters"
      value="<%= locals.inv_model %>"
      pattern=".{3,}"
      required
  /></label>
  <label id="inv_year"
    >Year<input
      type="text"
      name="inv_year"
      title="Enter the year of the vehicle."
      placeholder="4 digit year"
      value="<%= locals.inv_year %>"
      pattern="18[0-9]{2}|19[0-9]{2}|20[0-9]{2}"
      required
  /></label>
  <label id="inv_description"
    >Description<textarea
      rows="3"
      name="inv_description"
      title="Enter a description of the vehicle."
      required
    >
<%= locals.inv_description %></textarea
    >
  </label>
  <label id="inv_image"
    >Image Path<input
      type="text"
      name="inv_image"
      title="Enter the full sized image path for the vehicle."
      value="<%= locals.inv_image %>"
      required
  /></label>
  <label id="inv_thumbnail"
    >Thumbnail Path<input
      type="text"
      name="inv_thumbnail"
      title="Enter the thumbnail image path for the vehicle."
      value="<%= locals.inv_thumbnail %>"
      required
  /></label>
  <label id="inv_price"
    >Price<input
      type="text"
      name="inv_price"
      title="Enter the price of the vehicle."
      placeholder="decimal or integer"
      value="<%= locals.inv_price %>"
      pattern="[0-9.]+"
      required
  /></label>
  <label id="inv_miles"
    >Miles<input
      type="text"
      name="inv_miles"
      title="Enter the total miles of the vehicle."
      value="<%= locals.inv_miles %>"
      pattern="[0-9]{1,}"
      required
  /></label>
  <label id="inv_color"
    >Color<input
      type="text"
      name="inv_color"
      title="Enter the color of the vehicle."
      value="<%= locals.inv_color %>"
      pattern="^[A-Za-z ]{1,}$"
      required
  /></label>
  <button disabled="disabled" type="submit" title="Add Inventory" aria-label="Add Inventory">
    Edit Inventory
  </button>
  <input type="hidden" name="inv_id" 
  <% if(locals.inv_id) { %> value="<%= locals.inv_id %>"<% } %>>
</form>

<script src="../../js/inv-update.js"></script>

